window.jreviews||(jreviews={}),window.jreviews.quick2cart||(jreviews.quick2cart={}),function(e,c){c.quick2cart.init=function(){var n=jrPage;n.on("click",".jr-q2c-remove-price,.jr-q2c-remove-discount-price",function(r){r.preventDefault(),e(this).parent().parent().remove(),c.quick2cart.recalcPriceRowIndex(n,e(this).data("type"))}),n.on("click",".jr-q2c-new-price,.jr-q2c-new-discount-price",function(r){r.preventDefault();var i=e(this),t=i.data("type"),a=i.parent().parent(),o=e('<button class="jr-q2c-remove-'+t+' jrButton jrIconOnly"><span class="jrIconRemove"></span></button>').data("type",t),u=a.prev().clone().find(":input").val("").removeClass("jr-ready").end().insertBefore(a);o.on("click",function(e){e.preventDefault(),u.remove(),c.quick2cart.recalcPriceRowIndex(n,t)}),u.children("div").eq(2).html(""),u.find(".jr-q2c-remove-"+t).remove().end().children("div").eq(1).append(o),c.quick2cart.recalcPriceRowIndex(n,t),c.field.suggest(n)})},c.quick2cart.recalcPriceRowIndex=function(c,n){c.find(".jr-"+n+"-currency").parent().parent().each(function(c){e(this).find(":input").each(function(){this.name=this.name.replace(/\[(\d+)\]/,"["+parseInt(c,10)+"]")})})},c.addOnload("quick2cart-init",c.quick2cart.init)}(jQuery,jreviews,window);